## 2. 자바와 절차적/ 구조적 프로그래밍

#### 2-1. 자바 프로그램의 객발과 구동

    - 현실 세계예서 컴퓨터를 구동하기 위해서는 물리적 컴푸터인 하드웨어와 운영체제, 그리고 그 위에서 구동될 소프트웨어가 필요함. + 소프트웨어를 개발할 수 있는 개발도구

    - 소프트웨어 개발 도구 -> JDK - 자바 개발 도구(JVM용 소프트웨어 개발 도구)

    - 운영체제 -> JRE - 자바 실행 환경(JVM용 OS)

    - 하드웨어(물리적 컴퓨터) -> JVM(Java Virtual Machine) 자바 가상 기계. 가상의 컴퓨터

    - 프로그램이 메모리를 사용하는 방식 -> 코드 실행 영역과 데이터 저장 영역으로 구성

    - 데이터 저장 영역을 다시 세 개의 영역으로 분할해서 사용.(스태틱 영역, 스택 영역, 힙  영역)

![image](../assets/image.png)

#### 2-2. 다시 보는 main() 메서드: 메서드 스택 프레임

    - 자바에서 main 메서드안의 System.out.println을 실행할 때, 메모리에서는 무슨 일이 일어날까?

    - JRE는 프로그램 안에 main 메서드가 있는지 확인한다.

    - main 메서드의 존재가 확인되면, JRE는 프로그램 실행을 위한 사전 준비에 착수

    - JVM을 부팅하여 목적 파일을 JVM에서 실행.

    - println을 실행하기 위해 java.lang 패키지를 메모리의 스태틱 영역에 가져다 놓음.(System.out.println 메서드를 실행하기 위한 사전 준비)

    - 개발자가 작성한 모든 클래스와 패키지를 스태틱 영역에 가져다 놓음

    - main 메서드의 스택 프레임이 스택 메모리 영역에 할당됨.

    - 메서드의 인자 args를 저장할 변수 공간을 스택 프레임의 맨 밑에 확보해서 변수 공간을 할당한다.

    - 닫는 중괄호를 만나면 스택 프레임이 소멸된다.

    - main 메서드가 끝나면 JRE는 JVM을 종료하고, JRE 자체도 운영체제 상의 메모리에서 사라짐

#### 2-3. 전역 변수와 메모리

    - 두 메서드 사이에 값을 공유하기 위해서 전역 변수를 사용함.

    - 자바 코드에서 static 키워드가 붙은 변수는 메모리에서 스태틱 영역에 변수 공간이 할당된다.

    - 따라서 스택 메모리의 스택 프레임 안에서 스태틱 영역에 존재하는 변수 값들을 전역적으로 가져다가 쓸 수 있다.

    - 프로젝트와 코드의 규모가 커지면서 여러 메서드에서 전역 변수의 값을 변경하기 시작하면 메모리로 전역 변수를 추적하지 않는 이상, 전역 변수에 저장돼 있는 값을 파악하기 쉽지 않기 때문에 전역 변수의 사용을 지양한다.

    - 따라서 전역 변수의 사용은 전역적으로 사용하는 변하지 않는 값(상수)를 사용할 때, 주로 사용하는 것이 바람직하다(ex: Math 클래스의 PI 값)

#### 2-4. 멀티 스레드 / 멀티 프로세스의 이해

    - 멀티 스레드: 메모리의 스택 영역을 스레드 개수만큼 분할해서 사용하는 것. 하나의 메모리 구조 안에서 스택 영역만 분할한 것이기 때문에 하나의 스레드에서 다른 스레드의 스택 영역에ㅅ는 접근할 수 없지만, 스태틱 영영과 힙 영역은 공유하는 구조. 따라서 멀티 프로세스 대비 메모리를 적게 사용할 수 있는 구조

    - 멀티 프로세스: 다수의 데이터 저장 영역, 즉 다수의 메모리(메모리 구조 그 자체를 더 갖는 구조)를 갖는 구조. 각 프로세스가 각자의 메모리 구조를 갖고 있기 때문에 서로 참조할 수 없다.

#### 2-5. 정리

    - 스태틱 메모리: 클래스의 놀이터

    - 스택 메모리: 메서드의 놀이터

    - 힙 메모리: 객체의 놀이터
